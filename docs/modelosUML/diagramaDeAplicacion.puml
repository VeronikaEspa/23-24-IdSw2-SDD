@startuml DiagramaDeAplicacion

class App {
    - WorldController worldController

    + main()
    - initializeGame()
    - runGameCycle()
}

package "Model" {
    class World {
        - Map map
        - Entity[] entities
        - Time time

        + simulateCycle()
        + addEntity(Entity newEntity)
        + removeEntity(Entity entity)
        + updateTime()
    }

    class Time {
        - TimesOfDay timeOfDay
        - int currentTime

        + advanceTime()
        + resetDay()
    }

    class Map {
        - Tile[][] tiles

        + updateTile(int x, int y, Tile newTile)
    }

    class Tile {
        - TileTypes type

        + changeType(TileTypes newType)
    }

    abstract class Entity {
        - Point position
        - Transport transportInUse

        + moveTo(Point newPosition)
        + changeTransport(Transport newTransport)
    }

    class Character extends Entity {
        - CharacterType characterType
        - Transport[] availableTransports

    }

    class Transport {
        - TransportTypes type
        - Tile[] allowedTiles

        + getAllowedTiles()
    }

    class Point {
        - int x
        - int y

        + getLocation()
        + setLocation(int x, int y)
    }

    enum TileTypes {
        Floor
        Sand
        Wall
        ShortGrass
        MediumGrass
        TallGrass
        Water
        DeepWater
        Mountain
    }

    enum TimesOfDay {
        Morning
        Afternoon
        Evening
        Night
    }

    enum TransportTypes {
        Foot
        Horse
        Boat
        MagicCarpet
    }

    enum CharacterType {
        Playable
        NonPlayable
    }
}

package "View" {
    class WorldView {
        - String[][] View
        + showWorldTime(Time time)
        + showWorldMap(Map map)
        + showWorldEntities(Entity[] entities)
    }
}

package "Controller" {
    class WorldController {
        - World world
        - WorldView worldView

        + initializeGame()
        + runGameCycle()
        + processUserInput(char input)
    }
}

World --> Map
World --> Entity
World --> Time
Map --> Tile
Tile --> TileTypes
Entity --> Point
Entity --> Transport
Transport --> TransportTypes
Time --> TimesOfDay
Entity ..> Character : <<instantiates>>
Character --> CharacterType
WorldController --> World
WorldController --> WorldView
App --> WorldController
@enduml